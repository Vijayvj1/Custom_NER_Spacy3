import json
import os

def extract_json_objects(string_variable, output_folder):
    # Ensure the output folder exists
    if not os.path.exists(output_folder):
        os.makedirs(output_folder)

    # Find all JSON objects in the string and parse them
    json_objects = [json.loads(s) for s in string_variable.split() if s.strip().startswith("{") and s.strip().endswith("}")]

    # Save each JSON object into separate .json files
    for idx, obj in enumerate(json_objects):
        filename = os.path.join(output_folder, f"object_{idx+1}.json")
        with open(filename, "w") as file:
            json.dump(obj, file, indent=4)

# Example usage:
input_string = '{"name": "John", "age": 30} Some text {"fruit": "apple"} Another text {"city": "New York", "population": 8500000}'
output_folder = "json_files"

extract_json_objects(input_string, output_folder)
